<div class="ui container">
    <div class="mt-24">
       <div class="sb-pageSection-header mb-0 flex-jc-space-between">
          <div class="w-60 d-flex">
             <h4 class="sb-pageSection-title">{{ resourceService.frmelmnts.lbl.allUsers }}</h4>
             <span class="sb-pagSection-count sb-label sb-label-x sb-label-warning ml-5 px-5"
                *ngIf="!showLoader && blueprintcount">{{blueprintcount}}
             </span>
             <app-page-help *ngIf="mangeBlueprintContextualConfig" [helpSectionConfig]="mangeBlueprintContextualConfig" [popupPlacement]="'bottom left'" [pageid]="'sourcing_manage_users_help'"></app-page-help>
          </div>
          <div class="sb-search-box medium mt-5 mr-10">
             <div class="input-div relative">
                <i class="search icon"></i>
                <input class="sb-search-input"  [(ngModel)]="searchInput" type="text"  placeholder="Search..." />
                <i class="close icon" *ngIf="searchInput" (click)="getBlueprintDetailsBySearch('clearSearch')"></i>
             </div>
             <button class="sb-btn sb-btn-normal" (click)="getBlueprintDetailsBySearch()" appTelemetryInteract
                >{{resourceService?.frmelmnts?.lbl?.search}}</button>
          </div>
          <div>
             <button class="sb-btn sb-btn-outline-primary sb-btn-normal ml-10 "  appTelemetryInteract><i
                class="plus circle icon" ></i>
             {{ resourceService.frmelmnts.lbl.inviteUser }}</button>
          </div>
       </div>
    </div>
    <div class="sb-pageSection mb-24 mt-20">
        <div class="sb-table-responsive desktop-o-x-unset" *ngIf="blueprintcount && blueprintcount > 0 && !showLoader">
          <table class="sb-table sb-table-striped sb-table-hover sb-table-sortable sb-table-nowrap">
            <thead class="sb-table-header sb-table-thead-gray">
              <tr>
                <th class="w-10 cursor-pointer sb-sorting" (click)="sortCollection('name')">
                  {{resourceService.frmelmnts.lbl.title}} &nbsp;&nbsp;
                  <i class="fa fa-sort" aria-hidden="true" *ngIf="direction == '' || sortColumn != 'name' "></i>
                  <span *ngIf="sortColumn == 'name'" class="d-inline-block">
                    <i class="fa fa-sort-asc" aria-hidden="true" [ngClass]="{'sb-color-gray-100':direction == 'asc'}"></i>
                    <i class="fa fa-sort-desc" aria-hidden="true" [ngClass]="{'sb-color-gray-100':direction == 'desc'}"></i>
                  </span>
                </th>
                <th class="w-10">{{resourceService.frmelmnts.lbl.assesmentType}}</th>
                <th class="w-10">{{resourceService.frmelmnts.lbl.frameforkLbl}}</th>
                <th class="w-10">{{resourceService.frmelmnts.lbl.publishedonDiksha}}</th>
                <th class="w-10">{{resourceService.frmelmnts.lbl.status}}</th>
                <th class="w-5">
                 &nbsp;&nbsp;
                  
                </th>
              </tr>
            </thead>
            <tbody class="sb-table-body">
              <tr *ngFor="let blueprint of blueprints; let i = index;">
                <td>
                  <div class="sb__ellipsis sb__ellipsis--three sb-color-primary font-weight-bold">
                    {{blueprint.name}}
                  </div>
                </td>
                <td>
                  <div >{{blueprint?.assessmentName}}</div>
                </td>
               <td>
                  <div>
                    <p> {{blueprint?.maskedPhone}}</p>
                    <hr class="w-100">
                    <p> {{blueprint?.maskedPhone}}</p>
                    <hr class="w-100">
                    <p> {{blueprint?.maskedPhone}}</p>
                    <hr class="w-100">
                  </div>
                </td>
                <td>
                  <div>{{blueprint?.publishedon}}</div>
                </td>
                <td>
                  <div [ngClass]="blueprint?.status === 'Draft'?'sb-color-gray-300':'sb-color-success'"> {{blueprint?.status}}</div>
                </td>
                <td>
                    <div *ngIf="blueprint?.status  === 'Draft'" (click)="editBlueprint()" class="d-inline-block cursor-pointer pr-10 pl-5">
                      <i class="icon edit sb-color-primary ui fs-0-92"></i>
                      <span class="sb-color-primary">{{resourceService?.frmelmnts?.lbl?.editDraft}}</span>
                    </div>
                    <div *ngIf="blueprint?.status === 'Live'" class="d-inline-block cursor-pointer pr-10 pl-5">
                        <span class="sb-color-primary">{{resourceService?.frmelmnts?.lbl?.unPublish}}</span>
                    </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- <div *ngIf="blueprintcount > 0 && pager.totalPages > 1 && !showLoader" class="sb-pagination-container flex-jc-flex-end pt-16">
          <div class="sb-pagination">
              <a class="sb-item" [ngClass]="{disabled:pager.currentPage===1 }" (click)="NavigateToPage(1)"
              appTelemetryInteract
                            [telemetryInteractEdata]="getTelemetryInteractEdata('contributor_org_user_list_first_page', configService.telemetryLabels.eventType.click, undefined,telemetryPageId)"
                            [telemetryInteractObject]="telemetryInteractObject" [telemetryInteractCdata]="telemetryInteractCdata"
                            [telemetryInteractPdata]="telemetryInteractPdata">First</a>
              <a [ngClass]="{disabled:pager.currentPage===1 }" class="sb-item" (click)="NavigateToPage(pager.currentPage - 1)"
              appTelemetryInteract
                            [telemetryInteractEdata]="getTelemetryInteractEdata('contributor_org_user_list_previous_page', configService.telemetryLabels.eventType.click, undefined,telemetryPageId, {values: [pager.currentPage - 1]})"
                            [telemetryInteractObject]="telemetryInteractObject" [telemetryInteractCdata]="telemetryInteractCdata"
                            [telemetryInteractPdata]="telemetryInteractPdata">Previous</a>
              <a *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage===page}" (click)="NavigateToPage(page)" class="sb-item"
              appTelemetryInteract
                            [telemetryInteractEdata]="getTelemetryInteractEdata('contributor_org_user_list_pagination', configService.telemetryLabels.eventType.click, undefined,telemetryPageId, {values: [page]})"
                            [telemetryInteractObject]="telemetryInteractObject" [telemetryInteractCdata]="telemetryInteractCdata"
                            [telemetryInteractPdata]="telemetryInteractPdata">{{page}}</a>
              <a [ngClass]="{disabled:pager.currentPage=== pager.totalPages}" (click)="NavigateToPage(pager.currentPage + 1)"  class="sb-item"
              appTelemetryInteract
                            [telemetryInteractEdata]="getTelemetryInteractEdata('contributor_org_user_list_next_page', configService.telemetryLabels.eventType.click, undefined,telemetryPageId, {values: [pager.currentPage + 1]})"
                            [telemetryInteractObject]="telemetryInteractObject" [telemetryInteractCdata]="telemetryInteractCdata"
                            [telemetryInteractPdata]="telemetryInteractPdata">Next</a>
              <a [ngClass]="{disabled:pager.currentPage=== pager.totalPages}" (click)="NavigateToPage(pager.totalPages)"  class="sb-item"
              appTelemetryInteract
                            [telemetryInteractEdata]="getTelemetryInteractEdata('contributor_org_user_list_last_page', configService.telemetryLabels.eventType.click, undefined, telemetryPageId, {values: [pager.totalPages]})"
                            [telemetryInteractObject]="telemetryInteractObject" [telemetryInteractCdata]="telemetryInteractCdata"
                            [telemetryInteractPdata]="telemetryInteractPdata">Last</a>
          </div>
        </div> -->
      <div class="mt-12" *ngIf="!showLoader && blueprintcount == 0">
        <app-no-result *ngIf="!searchInput" [data]="{ messageText: 'frmelmnts.lbl.noOrgUsers'}"> </app-no-result>
        <app-no-result *ngIf="searchInput" [data]="{ messageText: 'frmelmnts.lbl.noOrgUsersinSearch'}"> </app-no-result>
        <div *ngIf="noMangeUsersContextualConfig" class="d-flex flex-ai-jc-center">
          <app-page-help [helpSectionConfig]="noMangeUsersContextualConfig" [popupPlacement]="'bottom left'" [pageid]="'sourcing_no_users_found_help'"></app-page-help>
        </div>
      </div>
        <div class="ui tweleve wide column mb-20" *ngIf="showLoader">
          <app-loader></app-loader>
        </div>
    </div>
 </div>